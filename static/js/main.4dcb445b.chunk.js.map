{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/Button/Button.module.css","components/SearchBar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/API/imageApi.jsx","components/Button/Button.jsx","components/Modal/Modal.jsx","components/ImageGallery/ImageGallery.jsx","App.js","index.js","components/SearchBar/Searchbar.module.css","components/ImageGallery/ImageGallery.module.css"],"names":["module","exports","Searchbar","state","searchQuery","handleInputChange","e","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","className","css","SearchForm","this","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","src","alt","onClick","id","ImageGalleryItemImage","ImageApi","page","url","fetch","Button","Modal","handleKeyDown","code","onClose","onLeft","onRight","handleOverlayClick","event","target","window","addEventListener","removeEventListener","Overlay","tags","ImageGallery","gallery","status","showModal","loadmore","Api","then","response","json","hits","newHits","match","prevState","scrollTo","top","document","documentElement","scrollHeight","behavior","catch","error","console","log","toggleModal","decrementModal","currentImgIdx","modalImgSrc","largeImageURL","incrementModal","length","modalOpen","map","item","idx","prevProps","prevQuery","query","nextQuery","ok","Promise","reject","Error","arr","newArr","forEach","push","color","height","width","timeout","style","textAlign","paddingTop","p","wrapper","App","sendQueryInState","data","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.4dcb445b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__qQsIB\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__DZqkU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2qHAA\",\"Modal\":\"Modal_Modal__13lAC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__29mdl\"};","import { Component } from \"react\";\r\nimport css from \"./Searchbar.module.css\";\r\n\r\nexport default class Searchbar extends Component {\r\n  state = { searchQuery: \"\" };\r\n\r\n  handleInputChange = (e) => {\r\n    this.setState({ searchQuery: e.currentTarget.value });\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    this.props.onSubmit(this.state);\r\n    this.setState({ searchQuery: \"\" });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={css.Searchbar}>\r\n        <form className={css.SearchForm} onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className={css.SearchFormButton}>\r\n            <span className={css.SearchFormButtonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={css.SearchFormInput}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            onChange={this.handleInputChange}\r\n            value={this.state.searchQuery}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}","import css from \"./ImageGalleryItem.module.css\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default function ImageGalleryItem({ src, alt, onClick, id }) {\r\n  return (\r\n    <li\r\n      className={css.ImageGalleryItem}\r\n      onClick={() => {\r\n        onClick(src, alt, id);\r\n      }}\r\n    >\r\n      <img src={src} alt={alt} className={css.ImageGalleryItemImage} id={id} />\r\n    </li>\r\n  );\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  src: PropTypes.string,\r\n  alt: PropTypes.string,\r\n  onClick: PropTypes.func,\r\n  dataId: PropTypes.number,\r\n};","export default function ImageApi(searchQuery, page) {\r\n    const KEY = \"22667057-2dc7c959a5419833a30fef1e8\";\r\n    const BASE_URL = \"https://pixabay.com/api/\";\r\n    const url = `${BASE_URL}?q=${searchQuery}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`;\r\n  \r\n    return fetch(url);\r\n  }","import css from \"./Button.module.css\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default function Button({ onClick }) {\r\n  return (\r\n    <button type=\"button\" className={css.Button} onClick={onClick}>\r\n      Load more\r\n    </button>\r\n  );\r\n}\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func,\r\n};","import { Component } from \"react\";\r\nimport css from \"./Modal.module.css\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default class Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      this.props.onClose();\r\n    } else if (e.code === \"ArrowLeft\") {\r\n      this.props.onLeft();\r\n    } else if (e.code === \"ArrowRight\") {\r\n      this.props.onRight();\r\n    }\r\n  };\r\n\r\n  handleOverlayClick = (event) => {\r\n    if (event.currentTarget === event.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className={css.Overlay} onClick={this.handleOverlayClick}>\r\n        <div>\r\n          <img src={this.props.src} alt={this.props.tags} className={css.Modal} />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  src: PropTypes.string,\r\n  tags: PropTypes.string,\r\n};","import { Component } from \"react\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\nimport css from \"./ImageGallery.module.css\";\r\nimport Api from \"../API/imageApi\";\r\nimport Button from \"../Button/Button\";\r\nimport Modal from \"../Modal/Modal\";\r\n\r\nexport default class ImageGallery extends Component {\r\n    state = {\r\n      gallery: [],\r\n      status: \"idle\",\r\n      page: 1,\r\n      showModal: false,\r\n    };\r\n  \r\n    \r\n  componentDidUpdate(prevProps, prevState) {\r\n    const prevQuery = prevProps.query;\r\n    const nextQuery = this.props.query;\r\n\r\n    if (prevQuery !== nextQuery) {\r\n      this.setState({ status: \"pending\" });\r\n      Api(nextQuery)\r\n        .then((response) => {\r\n          if (response.ok) {\r\n            return response.json();\r\n          }\r\n          return Promise.reject(new Error(`no images on request`));\r\n        })\r\n        .then(({ hits }) => {\r\n          if (hits.length === 0) {\r\n            this.setState({ status: \"rejected\" });\r\n          } else {\r\n            const newHits = this.match(hits);\r\n            this.setState({\r\n              gallery: newHits,\r\n              status: \"resolved\",\r\n              page: this.state.page + 1,\r\n              searchQuery: nextQuery,\r\n            });\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          this.setState({ status: \"rejected\" });\r\n          console.log(error);\r\n        });\r\n    }\r\n  }\r\n  \r\n\r\n  loadmore = () => {\r\n    const { searchQuery, page } = this.state;\r\n\r\n    Api(searchQuery, page)\r\n      .then((response) => {\r\n        return response.json();\r\n      })\r\n      .then(({ hits }) => {\r\n        const newHits = this.match(hits);\r\n        this.setState((prevState) => ({\r\n          gallery: [...prevState.gallery, ...newHits],\r\n          page: page + 1,\r\n        }));\r\n      })\r\n      .then(() => {\r\n        window.scrollTo({\r\n          top: document.documentElement.scrollHeight,\r\n          behavior: \"smooth\",\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        this.setState({ status: \"rejected\" });\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  match(arr) {\r\n    const newArr = [];\r\n    arr.forEach(({ id, largeImageURL, tags }) => {\r\n      newArr.push({ id, largeImageURL, tags });\r\n    });\r\n    return newArr;\r\n  }\r\n\r\n  toggleModal = () => {\r\n    this.setState((prevState) => ({ showModal: !prevState.showModal }));\r\n  };\r\n\r\n  decrementModal = () => {\r\n    const { currentImgIdx, gallery } = this.state;\r\n    if (currentImgIdx > 0) {\r\n      this.setState({\r\n        modalImgSrc: gallery[currentImgIdx - 1].largeImageURL,\r\n        currentImgIdx: currentImgIdx - 1,\r\n      });\r\n    }\r\n  };\r\n\r\n  incrementModal = () => {\r\n    const { currentImgIdx, gallery } = this.state;\r\n    if (currentImgIdx < gallery.length - 1) {\r\n      this.setState({\r\n        modalImgSrc: gallery[currentImgIdx + 1].largeImageURL,\r\n        currentImgIdx: currentImgIdx + 1,\r\n      });\r\n    }\r\n  };\r\n\r\n  modalOpen = (src, alt, id) => {\r\n    this.setState({\r\n      largeImageURL: src,\r\n      alt,\r\n    });\r\n    this.toggleModal();\r\n\r\n    this.state.gallery.map((item, idx) => {\r\n      if (item.id === id) {\r\n        this.setState({\r\n          currentImgIdx: idx,\r\n        });\r\n      }\r\n      return \"\";\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { status, gallery, showModal, largeImageURL, alt, modalImgSrc } =\r\n      this.state;\r\n\r\n    if (status === \"idle\") {\r\n      return \"\";\r\n    }\r\n    if (status === \"pending\") {\r\n      return (\r\n        <Loader\r\n          type=\"Audio\"\r\n          color=\"#3f51b5\"\r\n          height={100}\r\n          width={100}\r\n          timeout={300000}\r\n          style={{ textAlign: \"center\", paddingTop: \"20px\" }}\r\n        />\r\n      );\r\n    }\r\n    if (status === \"rejected\") {\r\n      return <p className={css.p} >Sorry, \"{this.props.query}\" not found</p>\r\n    }\r\n    if (status === \"resolved\") {\r\n      return (\r\n        <div className={css.wrapper}>\r\n          {showModal && (\r\n            <Modal\r\n              onClose={this.toggleModal}\r\n              onLeft={this.decrementModal}\r\n              onRight={this.incrementModal}\r\n              src={modalImgSrc || largeImageURL}\r\n              tags={alt}\r\n            />\r\n          )}\r\n          <ul className={css.ImageGallery}>\r\n            {gallery.map(({ largeImageURL, tags, id }) => {\r\n              return (\r\n                <ImageGalleryItem\r\n                  src={largeImageURL}\r\n                  alt={tags}\r\n                  onClick={this.modalOpen}\r\n                  key={id}\r\n                  id={id}\r\n                />\r\n              );\r\n            })}\r\n          </ul>\r\n          <Button onClick={this.loadmore} />\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n}  ","import { Component } from 'react';\nimport Searchbar from './components/SearchBar/Searchbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\n\nexport default class App extends Component {\n  state = { searchQuery: '' };\n\n  sendQueryInState = data => {\n    this.setState(data);\n  };\n\n  render() {\n    const { searchQuery } = this.state;\n    return (\n      <>\n        <Searchbar onSubmit={this.sendQueryInState} />\n        <ImageGallery query={searchQuery} />\n      </>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3XCky\",\"SearchForm\":\"Searchbar_SearchForm__kfnsB\",\"SearchFormButton\":\"Searchbar_SearchFormButton__1cYjw\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__3ozlN\",\"SearchFormInput\":\"Searchbar_SearchFormInput__1nffk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__27gc7\",\"p\":\"ImageGallery_p__195lG\",\"wrapper\":\"ImageGallery_wrapper__aI4Oi\"};"],"sourceRoot":""}