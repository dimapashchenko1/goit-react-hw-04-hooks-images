{"version":3,"sources":["components/Modal/Modal.module.css","components/Button/Button.module.css","components/SearchBar/Searchbar.module.css","components/SearchBar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","services/imageApi.jsx","components/Button/Button.jsx","components/Modal/Modal.jsx","components/ImageGallery/ImageGallery.jsx","App.js","index.js","components/ImageGallery/ImageGallery.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css"],"names":["module","exports","Searchbar","onSubmit","useState","searchQuery","setSearchQuery","className","css","SearchForm","e","preventDefault","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","target","value","ImageGalleryItem","src","alt","onClick","id","ImageGalleryItemImage","ImageApi","page","url","fetch","Button","Modal","onClose","onLeft","onRight","tags","useEffect","window","addEventListener","handleKeyDown","removeEventListener","code","Overlay","event","currentTarget","ImageGallery","query","gallery","setGallery","status","setStatus","setPage","showModal","setShowModal","modalImgSrc","setModalImgSrc","currentImgIdx","setCurrentImgIdx","largeImageURL","setLargeImageURL","setAlt","Api","then","response","ok","json","Promise","reject","Error","hits","length","newHits","match","prev","catch","error","console","log","arr","newArr","forEach","push","toggleModal","modalOpen","map","item","idx","color","height","width","timeout","style","textAlign","paddingTop","p","wrapper","scrollTo","top","document","documentElement","scrollHeight","behavior","App","data","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.a062880c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__Q6RRi\",\"Modal\":\"Modal_Modal__1NBdm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__gw9-W\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__1uJhM\",\"SearchForm\":\"Searchbar_SearchForm__24rFt\",\"SearchFormButton\":\"Searchbar_SearchFormButton__2eqMW\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__3woeC\",\"SearchFormInput\":\"Searchbar_SearchFormInput__11u97\"};","import { useState } from \"react\";\r\nimport css from \"./Searchbar.module.css\";\r\n\r\nexport default function Searchbar({ onSubmit }) {\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n\r\n  const handleInputChange = (e) => {\r\n    setSearchQuery(e.target.value);\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    onSubmit(searchQuery);\r\n    setSearchQuery(\"\");\r\n  };\r\n\r\n  return (\r\n    <header className={css.Searchbar}>\r\n      <form className={css.SearchForm} onSubmit={handleSubmit}>\r\n        <button type=\"submit\" className={css.SearchFormButton}>\r\n          <span className={css.SearchFormButtonLabel}>Search</span>\r\n        </button>\r\n\r\n        <input\r\n          className={css.SearchFormInput}\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n          onChange={handleInputChange}\r\n          value={searchQuery}\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n}","import css from \"./ImageGalleryItem.module.css\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default function ImageGalleryItem({ src, alt, onClick, id }) {\r\n  return (\r\n    <li\r\n      className={css.ImageGalleryItem}\r\n      onClick={() => {\r\n        onClick(src, alt, id);\r\n      }}\r\n    >\r\n      <img src={src} alt={alt} className={css.ImageGalleryItemImage} id={id} />\r\n    </li>\r\n  );\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  src: PropTypes.string,\r\n  alt: PropTypes.string,\r\n  onClick: PropTypes.func,\r\n  dataId: PropTypes.number,\r\n};","const KEY = \"22667057-2dc7c959a5419833a30fef1e8\";\r\nconst BASE_URL = \"https://pixabay.com/api/\";\r\n\r\nexport default function ImageApi(searchQuery, page) {\r\n    const url = `${BASE_URL}?q=${searchQuery}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`;\r\n  \r\n    return fetch(url);\r\n  }","import css from \"./Button.module.css\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default function Button({ onClick }) {\r\n  return (\r\n    <button type=\"button\" className={css.Button} onClick={onClick}>\r\n      Load more\r\n    </button>\r\n  );\r\n}\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func,\r\n};","import { useEffect } from \"react\";\r\nimport css from \"./Modal.module.css\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default function Modal({ onClose, onLeft, onRight, src, tags }) {\r\n  useEffect(() => {\r\n    window.addEventListener(\"keydown\", handleKeyDown);\r\n    return () => {\r\n      window.removeEventListener(\"keydown\", handleKeyDown);\r\n    };\r\n  });\r\n\r\n  const handleKeyDown = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      onClose();\r\n    } else if (e.code === \"ArrowLeft\") {\r\n      onLeft();\r\n    } else if (e.code === \"ArrowRight\") {\r\n      onRight();\r\n    }\r\n  };\r\n\r\n  const handleOverlayClick = (event) => {\r\n    if (event.currentTarget === event.target) {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={css.Overlay} onClick={handleOverlayClick}>\r\n      <div>\r\n        <img src={src} alt={tags} className={css.Modal} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nModal.propTypes = {\r\n  src: PropTypes.string,\r\n  tags: PropTypes.string,\r\n};","import { useState, useEffect } from \"react\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\nimport css from \"./ImageGallery.module.css\";\r\nimport Api from \"../../services/imageApi\";\r\nimport Button from \"../Button/Button\";\r\nimport Modal from \"../Modal/Modal\";\r\n\r\nexport default function ImageGallery({ query }) {\r\n  const [gallery, setGallery] = useState([]);\r\n  const [status, setStatus] = useState(\"idle\");\r\n  const [page, setPage] = useState(1);\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [searchQuery, setSearchQuery] = useState(null);\r\n  const [modalImgSrc, setModalImgSrc] = useState(\"\");\r\n  const [currentImgIdx, setCurrentImgIdx] = useState(\"\");\r\n  const [largeImageURL, setLargeImageURL] = useState(\"\");\r\n  const [alt, setAlt] = useState(\"\");\r\n  \r\n  useEffect(() => {\r\n    if (query !== \"\") {\r\n      setStatus(\"pending\");\r\n      Api(query)\r\n        .then((response) => {\r\n          if (response.ok) {\r\n            return response.json();\r\n          }\r\n          return Promise.reject(new Error(`no images on request`));\r\n        })\r\n        .then(({ hits }) => {\r\n          if (hits.length === 0) {\r\n            setStatus(\"rejected\");\r\n          } else {\r\n            const newHits = match(hits);\r\n            setGallery(newHits);\r\n            setStatus(\"resolved\");\r\n            setPage((prev) => prev + 1);\r\n            setSearchQuery(query);\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          setStatus(\"rejected\");\r\n          console.log(error);\r\n        });\r\n    }\r\n  }, [query]);\r\n\r\n  const loadmore = () => {\r\n    Api(searchQuery, page)\r\n      .then((response) => {\r\n        return response.json();\r\n      })\r\n      .then(({ hits }) => {\r\n        const newHits = match(hits);\r\n        setGallery((prev) => [...prev, ...newHits]);\r\n        setPage((prev) => prev + 1);\r\n      })\r\n      .then(() => {\r\n        window.scrollTo({\r\n          top: document.documentElement.scrollHeight,\r\n          behavior: \"smooth\",\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        setStatus(\"rejected\");\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  const match = (arr) => {\r\n    const newArr = [];\r\n    arr.forEach(({ id, largeImageURL, tags }) => {\r\n      newArr.push({ id, largeImageURL, tags });\r\n    });\r\n    return newArr;\r\n  };\r\n\r\n  const toggleModal = () => {\r\n    setShowModal((prev) => !prev);\r\n    setModalImgSrc(\"\");\r\n  };\r\n\r\n  const decrementModal = () => {\r\n    if (currentImgIdx > 0) {\r\n      setModalImgSrc(gallery[currentImgIdx - 1].largeImageURL);\r\n      setCurrentImgIdx((prev) => prev - 1);\r\n    }\r\n  };\r\n\r\n  const incrementModal = () => {\r\n    if (currentImgIdx < gallery.length - 1) {\r\n      setModalImgSrc(gallery[currentImgIdx + 1].largeImageURL);\r\n      setCurrentImgIdx((prev) => prev + 1);\r\n    }\r\n  };\r\n\r\n  const modalOpen = (src, alt, id) => {\r\n    setLargeImageURL(src);\r\n    setAlt(alt);\r\n    toggleModal();\r\n    gallery.map((item, idx) => {\r\n      if (item.id === id) {\r\n        setCurrentImgIdx(idx);\r\n      }\r\n      return \"\";\r\n    });\r\n  };\r\n\r\n  if (status === \"idle\") {\r\n    return \"\";\r\n  }\r\n  if (status === \"pending\") {\r\n    return (\r\n      <Loader\r\n        type=\"Audio\"\r\n        color=\"#3f51b5\"\r\n        height={100}\r\n        width={100}\r\n        timeout={300000}\r\n        style={{ textAlign: \"center\", paddingTop: \"25px\" }}\r\n      />\r\n    );\r\n  }\r\n  if (status === \"rejected\") {\r\n    \r\n      return <p className={css.p} >Sorry, \"{query}\" not found</p>\r\n    \r\n  }\r\n  if (status === \"resolved\") {\r\n    return (\r\n      <div className={css.wrapper}>\r\n        {showModal && (\r\n          <Modal\r\n            onClose={toggleModal}\r\n            onLeft={decrementModal}\r\n            onRight={incrementModal}\r\n            src={modalImgSrc || largeImageURL}\r\n            tags={alt}\r\n          />\r\n        )}\r\n        <ul className={css.ImageGallery}>\r\n          {gallery.map(({ largeImageURL, tags, id }) => {\r\n            return (\r\n              <ImageGalleryItem\r\n                src={largeImageURL}\r\n                alt={tags}\r\n                onClick={modalOpen}\r\n                key={id}\r\n                id={id}\r\n              />\r\n            );\r\n          })}\r\n        </ul>\r\n        <Button onClick={loadmore} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import { useState } from 'react';\r\nimport Searchbar from './components/SearchBar/Searchbar';\r\nimport ImageGallery from './components/ImageGallery/ImageGallery';\r\n\r\nexport default function App() {\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n\r\n  const sendQueryInState = data => {\r\n    setSearchQuery(data);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Searchbar onSubmit={sendQueryInState} />\r\n      <ImageGallery query={searchQuery} />\r\n    </>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__316um\",\"p\":\"ImageGallery_p__P1ye2\",\"wrapper\":\"ImageGallery_wrapper__ikWNj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2fSWO\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__3L75w\"};"],"sourceRoot":""}